--PALETTE: Set Hardware Palettes V1.1
--
--
-- 
--

dofile("../libs/dawnbringer_lib.lua")

OK,cga,apple2,msx,vic20,zx,nes,clean,REMAP = inputbox("Set Hardware Palettes", 
        "1. CGA [16]",           1,  0,1,-1,
        "2. Apple II [16]",      0,  0,1,-1,
        "3. MSX [15]",           0,  0,1,-1,
        "4. VIC-20 [16]",        0,  0,1,-1,
        "5. ZX Spectrum [15]",   0,  0,1,-1, 
        "6. NES [55/64]",        0,  0,1,-1,       
        "Remove Old Palette", 1,  0,1,0, 
        "Remap Image", 0,  0,1,0 
);


if OK == true then

if nes == 1 then
colors = {{124,124,124
},{0,0,252
},{0,0,188
},{68,40,188
},{148,0,132
},{168,0,32
},{168,16,0
},{136,20,0
},{80,48,0
},{0,120,0
},{0,104,0
},{0,88,0
},{0,64,88
},{0,0,0
},{0,0,0
},{0,0,0
},{188,188,188
},{0,120,248
},{0,88,248
},{104,68,252
},{216,0,204
},{228,0,88
},{248,56,0
},{228,92,16
},{172,124,0
},{0,184,0
},{0,168,0
},{0,168,68
},{0,136,136
},{0,0,0
},{0,0,0
},{0,0,0
},{248,248,248
},{60,188,252
},{104,136,252
},{152,120,248
},{248,120,248
},{248,88,152
},{248,120,88
},{252,160,68
},{248,184,0
},{184,248,24
},{88,216,84
},{88,248,152
},{0,232,216
},{120,120,120
},{0,0,0
},{0,0,0
},{252,252,252
},{164,228,252
},{184,184,248
},{216,184,248
},{248,184,248
},{248,164,192
},{240,208,176
},{252,224,168
},{248,216,120
},{216,248,120
},{184,248,184
},{184,248,216
},{0,252,252
},{248,216,248
},{0,0,0
},{0,0,0
}}
end


if zx == 1 then
colors = {{0,0,0
},{0,0,192
},{192,0,0
},{192,0,192
},{0,192,0
},{0,192,192
},{192,192,0
},{192,192,192
},{0,0,255
},{255,0,0
},{255,0,255
},{0,255,0
},{0,255,255
},{255,255,0
},{255,255,255
}}
end

if vic20 == 1 then
colors = {{0,0,0
},{255,255,255
},{120,41,34
},{135,214,221
},{170,95,182
},{85,160,73
},{64,49,141
},{191,206,114
},{170,116,73
},{234,180,137
},{184,105,98
},{199,255,255
},{234,159,246
},{148,224,137
},{128,113,204
},{255,255,178}}
end

if apple2 == 1 then
colors = {{0,   0,   0
},{113, 36,  65
},{65,  48,  125
},{231, 52,  255
},{12,  89,  65
},{130, 130, 130
},{24,  154, 255
},{190, 178, 255
},{65,  77,  0
},{231, 101, 0
},{130, 130, 130
},{243, 166, 190
},{24,  203, 0
},{190, 207, 130
},{142, 219, 190
},{255, 255, 255
}}
end



if cga == 1 then
colors = {{0,   0,   0
},{0,   0,   170
},{0,   170, 0
},{0,   170, 170
},{170, 0,   0
},{170, 0,   170
},{170, 85,  0
},{170, 170, 170
},{85,  85,  85
},{85,  85,  255
},{85,  255, 85
},{85,  255, 255
},{255, 85,  85
},{255, 85,  255
},{255, 255, 85
},{255, 255, 255
}}
end

if msx == 1 then
colors = {{0,0,0},
{62,184,73},
{116,208,125},
{89,85,224},
{128,118,241},
{185,94,81},
{101,219,239},
{219,101,89},
{255,137,125},
{204,195,94},
{222,208,135},
{58,162,65},
{183,102,181},
{204,204,204},
{255,255,255}}
end



--

 for c = 1, #colors, 1 do
   setcolor(c-1,colors[c][1],colors[c][2],colors[c][3]) 
 end


 if clean == 1 then
   r,g,b = 0,0,0
   r,g,b = getcolor(matchcolor(0,0,0))
   for c = #colors+1, 256, 1 do 
     setcolor(c-1,r,g,b)  
   end
 end

 if REMAP == 1 then
  db.paletteRemap()
 end

end